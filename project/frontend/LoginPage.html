<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Login Page</title>
        <link rel="stylesheet" href="LoginPage.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="box-shell">
            <div class="greeting">
                Sign-in
            </div>
            <div>
                <p>Name:</p>
                <input class="username" type="text" placeholder="Enter username" id="usrName">
            </div>
            <div>
                <p>Password:</p>
                <input class="password" type="password" placeholder="Enter password" id="usrPassword">
            </div>
            <div class="sign-up-link">
                <a href="sign-up.html"> Don't have an account? Click here!</a>
            </div>
            <div>
                <button id="openWebsiteButton" class="login-button" >Login</button>
            </div>
        </div>

        <script type="text/javascript">
            function authorizeUser(){
                let url = '/authorizeuser';
                let params = "usrName=" + document.getElementById("usrName").value + "&usrPassword="+document.getElementById("usrPassword").value;
                $.ajax({
                    type: "POST",
                    url: url,
                    data: params,
                    contentType: 'application/x-www-form-urlencoded',
                    success: function(){
                        window.location.href = "dashboard.html";
                    },
                    error: function(){
                        alert("Failed to sign up!");
                    }
                })
                
                $.ajax({
                    type: "GET",
                    url: url,
                    data: params,
                    contentType: 'application/x-www-form-urlencoded',
                })
            }
            $("document").ready(() => {
                $('#openWebsiteButton').click(authorizeUser);
            });

            // document.getElementById("openWebsiteButton").addEventListener("click", function() {
            //     window.location.href = "dashboard.html";
            // });
        </script>
    </body>
</html>